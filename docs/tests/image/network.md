# F. Network Configuration

## 1. Netplan

Ubuntu Server uses **Netplan** for networking.

Network configuration files are located in `/etc/netplan`.  
On Ubuntu preinstalled Raspberry Pi images, this directory may be empty because networking is sometimes generated by **cloud-init** on first boot.

Since we are preparing the system offline in a chroot environment, we need to create our own Netplan configuration file.

Create a Netplan file:

```bash
nano /etc/netplan/01-netcfg.yaml
```

## 2. Wifi configuration

Our objective is to operate a swarm of 20 Seabots. To make them easily accessible via SSH, we use a dedicated Seabot Access Point (AP) and assign static IP addresses to the robots based on their ID number (from 01 to 20).

Let's state the WI-Fi network parameters :

- **SSID**: `seabot-ap`
- **no password**
- **Network**: 192.168.0.0/24
- **Access Point IP (gateway)**: 192.168.0.1

The netplan file can be completed as follows :

```bash
network:
  version: 2
  renderer: networkd

  wifis:
    wlan0:
      dhcp4: no
      addresses:
        - 192.168.0.1<seabot_id>/24
      routes:
        - to: default
          via: 192.168.0.1
      nameservers:
        addresses: [8.8.8.8, 1.1.1.1]
      access-points:
        "seabot-ap":
          password: ""
```

## 3. Ethernet configuration

Our robot is equipped with a hydrophone and collects large volumes of acoustic data.
These datasets are too large to transfer efficiently over Wi-Fi, so we use Ethernet for high-speed data retrieval.

To simplify direct connection to a laptop, we assign a static Ethernet IP to each robot.

Add the following Ethernet configuration to the same Netplan file:

```bash
  ethernets:
    eth0:
      dhcp4: no
      addresses:
        - 192.168.1.1<seabot_id>/24
```

!!! Note
    No gateway is needed on Ethernet because this link is only used for direct communication with a laptop, not for internet access.


!!! Note "Question 1"
    Edit the netplan file for seabot number `12`:

The configuration will be applied automatically when the Raspberry Pi boots.